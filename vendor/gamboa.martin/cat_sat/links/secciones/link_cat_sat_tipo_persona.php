<?php
namespace links\secciones;
use gamboamartin\errores\errores;
use gamboamartin\system\links_menu;
use PDO;
use stdClass;

class link_cat_sat_tipo_persona extends links_menu {
    public stdClass $links;


    private function link_valida_persona_fisica(int $registro_id): array|string
    {
        $valida_persona_fisica = $this->valida_persona_fisica(registro_id: $registro_id);
        if(errores::$error){
            return $this->error->error(mensaje: 'Error al obtener link de valida_persona_fisica',
                data: $valida_persona_fisica);
        }

        $valida_persona_fisica.="&session_id=$this->session_id";
        return $valida_persona_fisica;
    }

    protected function links(PDO $link, int $registro_id): stdClass|array
    {

        $links =  parent::links(link: $link, registro_id: $registro_id); // TODO: Change the autogenerated stub
        if(errores::$error){
            return $this->error->error(mensaje: 'Error al generar links', data: $links);
        }

        $valida_persona_fisica = $this->link_valida_persona_fisica(registro_id: $registro_id);
        if(errores::$error){
            return $this->error->error(mensaje: 'Error al generar link', data: $valida_persona_fisica);
        }


        return $links;
    }

    private function valida_persona_fisica(int $registro_id): string
    {
        return "./index.php?seccion=cat_sat_tipo_persona&accion=valida_persona_fisica&registro_id=$registro_id";
    }



}
